<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>model-db</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
/* GitHub stylesheet for MarkdownPad (http://markdownpad.com) */
/* Author: Nicolas Hery - http://nicolashery.com */
/* Version: b13fe65ca28d2e568c6ed5d7f06581183df8f2ff */
/* Source: https://github.com/nicolahery/markdownpad-github */

/* RESET
=============================================================================*/

html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
}

/* BODY
=============================================================================*/

body {
  font-family: Helvetica, arial, freesans, clean, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  color: #333;
  background-color: #fff;
  padding: 20px;
  max-width: 960px;
  margin: 0 auto;
}

body>*:first-child {
  margin-top: 0 !important;
}

body>*:last-child {
  margin-bottom: 0 !important;
}

/* BLOCKS
=============================================================================*/

p, blockquote, ul, ol, dl, table, pre {
  margin: 15px 0;
}

/* HEADERS
=============================================================================*/

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
}

h1 tt, h1 code, h2 tt, h2 code, h3 tt, h3 code, h4 tt, h4 code, h5 tt, h5 code, h6 tt, h6 code {
  font-size: inherit;
}

h1 {
  font-size: 28px;
  color: #000;
}

h2 {
  font-size: 24px;
  border-bottom: 1px solid #ccc;
  color: #000;
}

h3 {
  font-size: 18px;
}

h4 {
  font-size: 16px;
}

h5 {
  font-size: 14px;
}

h6 {
  color: #777;
  font-size: 14px;
}

body>h2:first-child, body>h1:first-child, body>h1:first-child+h2, body>h3:first-child, body>h4:first-child, body>h5:first-child, body>h6:first-child {
  margin-top: 0;
  padding-top: 0;
}

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0;
}

h1+p, h2+p, h3+p, h4+p, h5+p, h6+p {
  margin-top: 10px;
}

/* LINKS
=============================================================================*/

a {
  color: #4183C4;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* LISTS
=============================================================================*/

ul, ol {
  padding-left: 30px;
}

ul li > :first-child, 
ol li > :first-child, 
ul li ul:first-of-type, 
ol li ol:first-of-type, 
ul li ol:first-of-type, 
ol li ul:first-of-type {
  margin-top: 0px;
}

ul ul, ul ol, ol ol, ol ul {
  margin-bottom: 0;
}

dl {
  padding: 0;
}

dl dt {
  font-size: 14px;
  font-weight: bold;
  font-style: italic;
  padding: 0;
  margin: 15px 0 5px;
}

dl dt:first-child {
  padding: 0;
}

dl dt>:first-child {
  margin-top: 0px;
}

dl dt>:last-child {
  margin-bottom: 0px;
}

dl dd {
  margin: 0 0 15px;
  padding: 0 15px;
}

dl dd>:first-child {
  margin-top: 0px;
}

dl dd>:last-child {
  margin-bottom: 0px;
}

/* CODE
=============================================================================*/

pre, code, tt {
  font-size: 12px;
  font-family: Consolas, "Liberation Mono", Courier, monospace;
}

code, tt {
  margin: 0 0px;
  padding: 0px 0px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px;
}

pre>code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent;
}

pre {
  background-color: #f8f8f8;
  border: 1px solid #ccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px;
}

pre code, pre tt {
  background-color: transparent;
  border: none;
}

kbd {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #DDDDDD;
    background-image: linear-gradient(#F1F1F1, #DDDDDD);
    background-repeat: repeat-x;
    border-color: #DDDDDD #CCCCCC #CCCCCC #DDDDDD;
    border-image: none;
    border-radius: 2px 2px 2px 2px;
    border-style: solid;
    border-width: 1px;
    font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
    line-height: 10px;
    padding: 1px 4px;
}

/* QUOTES
=============================================================================*/

blockquote {
  border-left: 4px solid #DDD;
  padding: 0 15px;
  color: #777;
}

blockquote>:first-child {
  margin-top: 0px;
}

blockquote>:last-child {
  margin-bottom: 0px;
}

/* HORIZONTAL RULES
=============================================================================*/

hr {
  clear: both;
  margin: 15px 0;
  height: 0px;
  overflow: hidden;
  border: none;
  background: transparent;
  border-bottom: 4px solid #ddd;
  padding: 0;
}

/* TABLES
=============================================================================*/

table th {
  font-weight: bold;
}

table th, table td {
  border: 1px solid #ccc;
  padding: 6px 13px;
}

table tr {
  border-top: 1px solid #ccc;
  background-color: #fff;
}

table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

/* IMAGES
=============================================================================*/

img {
  max-width: 100%
}
</style>
</head>
<body>
<h1><div align="center">Model Transform - Database</div></h1>
<hr />
<h3>Catalog:</h3>
<ul>
<li><a href="#1">New Model Group</a></li>
<li><a href="#2">Set Database Connection</a></li>
<li>
<a href="#3">Model Transform</a>
<ul>
<li><a href="#4">Table</a></li>
<li><a href="#5">View</a></li>
</ul>
</li>
<li><a href="#6">Using the Init Scheme to transform model</a></li>
</ul>
<hr />
<h2>Introduce</h2>
<p>Jmr can read the database table and view to transform the model.</p>
<pre>
Just do 2 steps:
1.Configure the database connection.
2.Transform a table or view to model.
</pre>
<hr />
<h2><span id="1">New Model Group</span></h2>
<p>First, open the Jmr file, select the Model page, and click the new button on the menu. Or in the Model List right key, New Group.</p>
<p><img src="image/model_db_new_group1.png" /></p>
<p>Enter a group name, such as: model.</p>
<p><img src="image/model_db_new_group2.png" /></p>
<p>The right side of the page configuration, current support from the Database, Java Class, Xml File transform model.</p>
<p><img src="image/model_db_new_group3.png" /></p>
<hr />
<h2><span id="2">Set Database Connection</span></h2>
<p>In the model page, store the information of the database, and transform the table or view to model.</p>
<p>Select any model group, in the detail page, select the &quot;database&quot;, click right menu &quot;New Connection&quot;.</p>
<p><img src="image/model_db_set_database1.png" /></p>
<p>Configure database connection information.</p>
<pre>
Tips:
1.The optional "Database" contains most of the major databases,
if the database is not in the list, select Other.
2.General database will provide jdbc driver, only one normal, 
but sqlserver2000 contains 3, please all join.
3.The recommended driver is placed under the project path.
4.According to the jdbc agreement, "Classname" may have multiple, 
please choose the right use.
5.Test the database connection, if there is an error will be prompted, 
  the error is generally a configuration error,
  the database is not installed or service is not started.
</pre>
<p><img src="image/model_db_set_database2.png" /></p>
<p>After the configuration is completed, right menu click &quot;Connect&quot;.</p>
<p><img src="image/model_db_set_database3.png" /></p>
<p>When the connection is successful, the structure of the table and view is displayed. If the database changes, right menu click &quot;Refresh&quot;</p>
<p><img src="image/model_db_set_database4.png" /></p>
<hr />
<h2><span id="3">Model Transform</span></h2>
<p>The model is the information of the data source, and we pass it to the template to generate the code.<br />
Now start transforming table and view to model that Jmr can understand and extend.</p>
<p>Select the table or view, right-click menu --&gt; Model Transform --&gt; Default.</p>
<p><img src="image/model_db_default_model1.png" /></p>
<p>The model book is generated, which is the structure of a table or view.<br />
The default transform is the base model, and we usually extend the model on this basis.</p>
<p><img src="image/model_db_default_model2.png" /></p>
<h2><span id="4">Table</span></h2>
<p>There are 2 tables in the database, Their relation as follows.</p>
<pre>
book: id is the primary key, including name, type, regist_time and other fields.
chapter: id is the primary key, including name and book_id fields, 
where book_id is a foreign key, pointing to the book id.
</pre>
<p><img src="image/model_db_model1.png" /></p>
<p>The transform structure contains 4 groups:</p>
<ul>
<li>Default：default information.</li>
<li>Type：type information.</li>
<li>Db：database information.</li>
<li>Table：table information.</li>
</ul>
<p><img src="image/model_db_model2.png" /></p>
<p>Click <img src="image/model_db_expand.png" /> to open each group;</p>
<p><img src="image/model_db_model3.png" /></p>
<h2><span id="5">View</span></h2>
<p>There is a view in the database, which is an join query between the book table and the chapter table.</p>
<p><img src="image/model_db_model4.png" /></p>
<p>We transform the view to model.</p>
<p><img src="image/model_db_model5.png" /></p>
<p>It query the resulting structure is a model containing 2 fields name and chapter_name.</p>
<p><img src="image/model_db_model6.png" /></p>
<p>The transform structure contains 3 groups:</p>
<ul>
<li>Default：default information.</li>
<li>Type：type information.</li>
<li>Db：database information.</li>
</ul>
<h2><span id="6">Using the Init Scheme to transform model</span></h2>
<p>After transform model, according to business needs, It is possible to modify the model.</p>
<p>For example, according to business needs, we need to modify or add the contents of the model.</p>
<ul>
<li>
Modify
<ul>
<li>name(Field), field name</li>
<li>type(Column): field type，for example: String, Integer...。</li>
<li>fullType(Column): field full type, for example: java.lang.String, java.lang.Integer, java.util.Date...</li>
</ul>
</li>
<li>
Add
<ul>
<li>title(Property): ui page title</li>
<li>fieldName(Column): ui page field name</li>
<li>controlType(Column): ui page control type, including text, select and date</li>
<li>isQuery(Column): ui page field is queried</li>
</ul>
</li>
</ul>
<p>We can set the init scheme</p>
<p><img src="image/model_init_plan7.png" /></p>
<p>When transform to model, select the init scheme.</p>
<p><img src="image/model_init_plan23.png" /></p>
<p>How to use of the init scheme, please refer to the following</p>
<ul>
<li>
<a href="model-init-plan.html">Init</a> 
<ul>
<li><a href="model-init-mapping.html">Mapping and Convert</a> </li>
<li><a href="model-init-plan.html">Init scheme</a></li>
</ul>
</li>
</ul>

</body>
</html>
<!-- This document was created with MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) -->
